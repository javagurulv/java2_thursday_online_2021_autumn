<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="QWE finance project">
    <meta name="author" content="Alex K">
    <title>QWE Trading Application</title>
</head>
<style type="text/css">
        body {
              background-color: #8E8F92;
              margin-left: 20%;
              margin-right: 20%;
              text-align: center;
              border: 2px dotted black;
              padding: 20px 20px 20px 20px;
              font-family: sans-serif;
        }
        table {
               border-collapse: collapse;
               width: 100%;
        }
        th, td {
                padding: 0.25rem;
                text-align: left;
                border: 1px solid #ccc;
        }
        caption {
                font-size: 110%;
                font-style: italic;
                padding-bottom: 12px;
        }
        .center {
                text-align: center;
        }
        .right {
                text-align: right;
        }
        .left {
                text-align: left;
        }

</style>
<body>

<h3 style="text-align: center;">Show user portfolio</h3>

<td th:if="${users != null}">
    <form action="/userdata/getUserPortfolio" th:object="${request}" method="post">
        <select name="request">
            <option th:each="user : ${users}" th:text="${user}"></option>
        </select>
        <br>
        <br>
        <input type="submit" style="font-size: 100%;" value="Select" name="Submit"/>
    </form>
</td>

<table>
    <caption th:text="${request.userName}"></caption>
    <tr>
        <td class="center">TICKER</td>
        <td class="center">NAME</td>
        <td class="center">AMOUNT</td>
        <td class="center">PURCHASE PRICE</td>
        <td class="center">MARKET PRICE</td>
        <td class="center">PROFIT&LOSS</td>
    </tr>

    <td th:if="${portfolio != null}">
        <tr th:each="position : ${portfolio}">
            <td th:text="${position.security.ticker}"></td>
            <td th:text="${position.security.name}"></td>
            <td class="right" th:text="${position.amount}"></td>
            <td class="right" th:text="${position.purchasePrice}"></td>
            <td class="right" th:text="${position.security.marketPrice}"></td>
            <td class="right" th:text="${(position.security.marketPrice * position.amount)
            - (position.purchasePrice * position.amount)}"></td>
        </tr>
    </td>
</table>
<br>
<tr>CASH:</tr>
<tr th:text="${cash}"></tr>

<form action="/userMenu" method="get">
    <br>
    <br>
    <input type="submit" style="font-size: 100%;" value="Return to User menu" name="Submit"/>
</form>

</body>
</html>